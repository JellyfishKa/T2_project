# –ù–ï–î–ï–õ–Ø 4 ‚Äî –£–ü–†–ê–í–õ–ï–ù–ò–ï –†–ê–°–ü–ò–°–ê–ù–ò–ï–ú, –ê–ù–ê–õ–ò–¢–ò–ö–ê –ò EXCEL-–ò–ù–¢–ï–ì–†–ê–¶–ò–Ø

> **–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ
> **–ü–µ—Ä–∏–æ–¥**: 24 —Ñ–µ–≤—Ä–∞–ª—è ‚Äî 27 —Ñ–µ–≤—Ä–∞–ª—è 2026
> **–ö–æ–º–∞–Ω–¥–∞**: 3 —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ + TL/PM
> **–ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è**: Agile Lite (Kanban)

---

## –ö–æ–Ω—Ç–µ–∫—Å—Ç –∏ —Ü–µ–ª–∏ –Ω–µ–¥–µ–ª–∏

–ù–µ–¥–µ–ª—è 4 ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –æ—Ç ¬´–º–∞—Ä—à—Ä—É—Ç–Ω–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏¬ª –∫ **–ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ—Å–µ—â–µ–Ω–∏—è–º–∏** —Ç–æ—Ä–≥–æ–≤—ã—Ö —Ç–æ—á–µ–∫ –ú–æ—Ä–¥–æ–≤–∏–∏. –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–æ–∫—É—Å:

| –¶–µ–ª—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –≤–∏–∑–∏—Ç–æ–≤ | –ê–ª–≥–æ—Ä–∏—Ç–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å —É—á—ë—Ç–æ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–π –¢–¢ (A/B/C/D) |
| –¢—Ä–µ–∫–∏–Ω–≥ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –¢–¢ | –§–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –≤—Ä–µ–º—è –ø—Ä–∏—Ö–æ–¥–∞/—É—Ö–æ–¥–∞ –≤ VisitLog ‚Üí API ‚Üí UI |
| –î–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –¥–Ω—è | Day modal —Å LLM-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π –º–∞—Ä—à—Ä—É—Ç–∞ (3 –≤–∞—Ä–∏–∞–Ω—Ç–∞ + pros/cons) |
| –§–æ—Ä—Å-–º–∞–∂–æ—Ä—ã | –ü–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–∏–∑–∏—Ç–æ–≤ –ø—Ä–∏ –±–æ–ª–µ–∑–Ω–∏ / –æ—Ç–ø—É—Å–∫–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ |
| Excel-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è | –≠–∫—Å–ø–æ—Ä—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è (4 –ª–∏—Å—Ç–∞) + –æ–±—Ä–∞—Ç–Ω—ã–π –∏–º–ø–æ—Ä—Ç —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ |
| –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ | –†–µ–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –æ—Ö–≤–∞—Ç—É –¢–¢, –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –¢–ü, –∏–Ω—Å–∞–π—Ç—ã |

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –ù–æ–≤—ã–µ —Ç–∞–±–ª–∏—Ü—ã –ë–î

```
sales_reps         ‚Äî —Ç–æ—Ä–≥–æ–≤—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–∏ (id, name, status, ...)
visit_schedule     ‚Äî –ø–ª–∞–Ω–æ–≤—ã–µ –≤–∏–∑–∏—Ç—ã (id, rep_id, location_id, planned_date, status)
visit_log          ‚Äî —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –≤–∏–∑–∏—Ç—ã (id, schedule_id, time_in, time_out, ...)
force_majeure_events ‚Äî —Ñ–æ—Ä—Å-–º–∞–∂–æ—Ä—ã (id, type, rep_id, event_date, redistributed_to)
```

### –ù–æ–≤—ã–µ backend-—Ñ–∞–π–ª—ã

| –§–∞–π–ª | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------|-----------|
| `src/routes/reps.py` | CRUD —Ç–æ—Ä–≥–æ–≤—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–µ–π |
| `src/routes/schedule.py` | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è |
| `src/routes/force_majeure.py` | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ä—Å-–º–∞–∂–æ—Ä–æ–≤ |
| `src/routes/visits.py` | –ò—Å—Ç–æ—Ä–∏—è —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –≤–∏–∑–∏—Ç–æ–≤ |
| `src/routes/export.py` | Excel-—ç–∫—Å–ø–æ—Ä—Ç (4 –ª–∏—Å—Ç–∞) |
| `src/routes/import_excel.py` | Excel-–∏–º–ø–æ—Ä—Ç —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –≤–∏–∑–∏—Ç–æ–≤ |
| `src/services/schedule_planner.py` | SchedulePlanner ‚Äî –∞–ª–≥–æ—Ä–∏—Ç–º –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è |
| `src/services/force_majeure_service.py` | ForceMajeureService ‚Äî –ø–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ |

### –ù–æ–≤—ã–µ frontend-—Ñ–∞–π–ª—ã

| –§–∞–π–ª | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------|-----------|
| `src/views/ScheduleView.vue` | –ú–µ—Å—è—á–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è |
| `src/views/RepsView.vue` | CRUD —Ç–æ—Ä–≥–æ–≤—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–µ–π |

---

## BACKEND –¢–ê–°–ö–ò ‚Äî –†–æ–º–∞–Ω –ö–∏–∂–∞–µ–≤

### BE-W4-1: –ú–æ–¥–µ–ª–∏ –ë–î ‚Äî SalesRep, VisitSchedule, VisitLog, ForceMajeure

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üî¥ HIGH
**–û—Ü–µ–Ω–∫–∞**: 5 —á–∞—Å–æ–≤
**–°—Ç–∞—Ç—É—Å**: ‚úÖ Done

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ SQLAlchemy-–º–æ–¥–µ–ª–∏ –∏ —Ä–∞—Å—à–∏—Ä–∏—Ç—å `Location` –Ω–æ–≤—ã–º–∏ –ø–æ–ª—è–º–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏–∏.

**Acceptance Criteria**:
- ‚úÖ `SalesRep` ‚Äî –∏–º—è, —Å—Ç–∞—Ç—É—Å (`active`/`sick`/`vacation`/`unavailable`), –∫–æ–Ω—Ç–∞–∫—Ç—ã
- ‚úÖ `VisitSchedule` ‚Äî FK –Ω–∞ `rep_id`, `location_id`, `planned_date`, `status` (5 –∑–Ω–∞—á–µ–Ω–∏–π)
- ‚úÖ `VisitLog` ‚Äî FK –Ω–∞ `schedule_id`, `time_in`/`time_out` (TIME), `visited_date`
- ‚úÖ `ForceMajeureEvent` ‚Äî —Ç–∏–ø, rep_id, –¥–∞—Ç–∞, `redistributed_to` (JSON)
- ‚úÖ `Location` —Ä–∞—Å—à–∏—Ä–µ–Ω–∞: `category` (A/B/C/D), `city`, `district`, `address`
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è `002_add_reps_schedule` –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è: `alembic upgrade head`
- ‚úÖ `main.py` ‚Äî AUTO ALTER TABLE –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ë–î (–±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö)

---

### BE-W4-2: API —Ç–æ—Ä–≥–æ–≤—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–µ–π (`/api/v1/reps`)

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üî¥ HIGH
**–û—Ü–µ–Ω–∫–∞**: 4 —á–∞—Å–∞
**–°—Ç–∞—Ç—É—Å**: ‚úÖ Done

**Acceptance Criteria**:
- ‚úÖ `GET /reps` ‚Äî —Å–ø–∏—Å–æ–∫ —Å —Ñ–∏–ª—å—Ç—Ä–æ–º –ø–æ —Å—Ç–∞—Ç—É—Å—É (`?status=active`)
- ‚úÖ `POST /reps` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –¢–ü (–∏–º—è, —Å—Ç–∞—Ç—É—Å)
- ‚úÖ `PATCH /reps/{id}` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ / –∏–º–µ–Ω–∏
- ‚úÖ `DELETE /reps/{id}` ‚Äî –º—è–≥–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ (—Å—Ç–∞—Ç—É—Å `unavailable`)
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è: —Å—Ç–∞—Ç—É—Å —Ç–æ–ª—å–∫–æ –∏–∑ –¥–æ–ø—É—Å—Ç–∏–º–æ–≥–æ enum
- ‚úÖ Unit-—Ç–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç –≤—Å–µ 4 –º–µ—Ç–æ–¥–∞

---

### BE-W4-3: –ê–ª–≥–æ—Ä–∏—Ç–º –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ + API —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è (`/api/v1/schedule`)

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üî¥ HIGH
**–û—Ü–µ–Ω–∫–∞**: 10 —á–∞—Å–æ–≤
**–°—Ç–∞—Ç—É—Å**: ‚úÖ Done

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–ö–ª—é—á–µ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –Ω–µ–¥–µ–ª–∏ ‚Äî –∞–ª–≥–æ—Ä–∏—Ç–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º–µ—Å—è—á–Ω–æ–≥–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è —Å —É—á—ë—Ç–æ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–π –¢–¢ –∏ —Ä–∞–±–æ—á–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏.

**–ê–ª–≥–æ—Ä–∏—Ç–º SchedulePlanner**:
```
–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: —Å–ø–∏—Å–æ–∫ –¢–¢, —Å–ø–∏—Å–æ–∫ –¢–ü, –º–µ—Å—è—Ü, —Ä–∞–±–æ—á–∏–µ –¥–Ω–∏
–î–ª—è –∫–∞–∂–¥–æ–π –¢–¢ –æ–ø—Ä–µ–¥–µ–ª—è–µ–º –∫–æ–ª-–≤–æ –≤–∏–∑–∏—Ç–æ–≤: A=3/–º–µ—Å, B=2/–º–µ—Å, C=1/–º–µ—Å, D=1/–∫–≤–∞—Ä—Ç–∞–ª
–†–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ–º –ø–æ —Ä–∞–±–æ—á–∏–º –¥–Ω—è–º —Å —É—á—ë—Ç–æ–º:
  - MAX_TT_PER_DAY = 14 (floor((540-30)/35))
  - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –∫–∞—Ç–µ–≥–æ—Ä–∏—è A ‚Üí B ‚Üí C ‚Üí D
  - –†–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –¢–ü (–Ω–∞–≥—Ä—É–∑–∫–∞)
  - –†–∞–±–æ—á–∏–µ —á–∞—Å—ã 09:00-18:00 (540 –º–∏–Ω), –ü–Ω-–ü—Ç
```

**Acceptance Criteria**:
- ‚úÖ `POST /schedule/generate` ‚Äî –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –º–µ—Å—è—Ü
- ‚úÖ `GET /schedule/` ‚Äî —Å–ø–∏—Å–æ–∫ –≤–∏–∑–∏—Ç–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ (–º–µ—Å—è—Ü, –¢–ü, –¢–¢, —Å—Ç–∞—Ç—É—Å)
- ‚úÖ `PATCH /schedule/{id}/status` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ + `time_in`/`time_out`
- ‚úÖ `GET /schedule/daily` ‚Äî —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –¥–µ–Ω—å
- ‚úÖ `_schedule_to_item()` ‚Äî JOIN —Å VisitLog ‚Üí `time_in`/`time_out` –≤ –æ—Ç–≤–µ—Ç–µ
- ‚úÖ `_load_logs_by_schedule()` ‚Äî batch-–∑–∞–≥—Ä—É–∑–∫–∞ VisitLog –±–µ–∑ N+1 –∑–∞–ø—Ä–æ—Å–æ–≤

---

### BE-W4-4: API —Ñ–æ—Ä—Å-–º–∞–∂–æ—Ä–æ–≤ (`/api/v1/force_majeure`)

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü° MEDIUM
**–û—Ü–µ–Ω–∫–∞**: 6 —á–∞—Å–æ–≤
**–°—Ç–∞—Ç—É—Å**: ‚úÖ Done

**Acceptance Criteria**:
- ‚úÖ `POST /force_majeure` ‚Äî —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏—è (–±–æ–ª–µ–∑–Ω—å, –æ—Ç–ø—É—Å–∫, –∞–≤–∞—Ä–∏—è)
- ‚úÖ `GET /force_majeure` ‚Äî —Å–ø–∏—Å–æ–∫ —Å–æ–±—ã—Ç–∏–π —Å —Ñ–∏–ª—å—Ç—Ä–æ–º –ø–æ –¥–∞—Ç–µ/–¢–ü
- ‚úÖ `ForceMajeureService.redistribute()` ‚Äî –ø–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –≤–∏–∑–∏—Ç–æ–≤ –Ω–∞ –¥—Ä—É–≥–∏—Ö –¢–ü
- ‚úÖ `redistributed_to` ‚Äî JSON —Å –º–∞–ø–ø–∏–Ω–≥–æ–º `schedule_id ‚Üí new_rep_id`
- ‚úÖ –ù–µ—Ç –ø–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –µ—Å–ª–∏ –Ω–µ—Ç —Å–≤–æ–±–æ–¥–Ω—ã—Ö –¢–ü

---

### BE-W4-5: API –≤–∏–∑–∏—Ç–æ–≤ –∏ —Ç—Ä–µ–∫–∏–Ω–≥ –≤—Ä–µ–º–µ–Ω–∏

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü° MEDIUM
**–û—Ü–µ–Ω–∫–∞**: 4 —á–∞—Å–∞
**–°—Ç–∞—Ç—É—Å**: ‚úÖ Done

**Acceptance Criteria**:
- ‚úÖ `POST /visits` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ VisitLog —Å `time_in`/`time_out`
- ‚úÖ `GET /visits` ‚Äî –∏—Å—Ç–æ—Ä–∏—è —Å —Ñ–∏–ª—å—Ç—Ä–æ–º `?month=YYYY-MM&rep_id=...`
- ‚úÖ `PATCH /schedule/{id}/status` –ø—Ä–∏ `status=completed` ‚Üí auto-create VisitLog
- ‚úÖ –ü–æ–ª—è `time_in`, `time_out` –≤ –æ—Ç–≤–µ—Ç–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è (`HH:MM` —Ñ–æ—Ä–º–∞—Ç)

---

### BE-W4-6: Excel —ç–∫—Å–ø–æ—Ä—Ç (`GET /api/v1/export/schedule`)

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üî¥ HIGH
**–û—Ü–µ–Ω–∫–∞**: 6 —á–∞—Å–æ–≤
**–°—Ç–∞—Ç—É—Å**: ‚úÖ Done

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–í—ã–≥—Ä—É–∑–∫–∞ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –≤ Excel ‚Äî –∫–ª—é—á–µ–≤–æ–µ –∫–æ–Ω–∫—É—Ä—Å–Ω–æ–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ.

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–∞** (`t2_schedule_YYYY-MM.xlsx`):
| –õ–∏—Å—Ç | –°–æ–¥–µ—Ä–∂–∏–º–æ–µ |
|------|-----------|
| –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ | –í—Å–µ –ø–ª–∞–Ω–æ–≤—ã–µ –≤–∏–∑–∏—Ç—ã —Å —Å—Ç–∞—Ç—É—Å–∞–º–∏ –∏ –≤—Ä–µ–º–µ–Ω–µ–º |
| –ñ—É—Ä–Ω–∞–ª –≤–∏–∑–∏—Ç–æ–≤ | –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –≤–∏–∑–∏—Ç—ã —Å –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é |
| –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –¢–¢ | –û—Ö–≤–∞—Ç, % –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º |
| –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –¢–ü | –í—ã—Ö–æ–¥—ã –Ω–∞ –º–∞—Ä—à—Ä—É—Ç, % –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è |

**Acceptance Criteria**:
- ‚úÖ –ü–∞—Ä–∞–º–µ—Ç—Ä `?month=YYYY-MM`
- ‚úÖ –¶–≤–µ—Ç–æ–≤—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (A=–∫—Ä–∞—Å–Ω—ã–π, B=–æ—Ä–∞–Ω–∂–µ–≤—ã–π, C=–∂—ë–ª—Ç—ã–π, D=—Å–µ—Ä—ã–π)
- ‚úÖ –ê–≤—Ç–æ-—à–∏—Ä–∏–Ω–∞ –∫–æ–ª–æ–Ω–æ–∫
- ‚úÖ `StreamingResponse` —Å `Content-Disposition`

---

### BE-W4-7: Excel –∏–º–ø–æ—Ä—Ç (`POST /api/v1/import/schedule`)

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü° MEDIUM
**–û—Ü–µ–Ω–∫–∞**: 5 —á–∞—Å–æ–≤
**–°—Ç–∞—Ç—É—Å**: ‚úÖ Done

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–û–±—Ä–∞—Ç–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ–≥–æ Excel —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –≤–∏–∑–∏—Ç–æ–≤ (—Å—Ç–∞—Ç—É—Å—ã + –≤—Ä–µ–º—è –ø—Ä–∏—Ö–æ–¥–∞/—É—Ö–æ–¥–∞).

**Acceptance Criteria**:
- ‚úÖ –ß–∏—Ç–∞–µ—Ç –ª–∏—Å—Ç ¬´–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ¬ª, —Å—Ç—Ä–æ–∫–∏ —Å row‚â•3
- ‚úÖ –ú–∞—Ç—á–∏–Ω–≥ –ø–æ `(planned_date, rep_name, loc_name)` ‚Äî –∏–º–µ–Ω–∞ –∏–∑ Excel ‚Üí ID –≤ –ë–î
- ‚úÖ `STATUS_MAP` ‚Äî ¬´–í—ã–ø–æ–ª–Ω–µ–Ω¬ª ‚Üí `completed`, ¬´–ü—Ä–æ–ø—É—â–µ–Ω¬ª ‚Üí `skipped`, –∏ —Ç.–¥.
- ‚úÖ –ü—Ä–∏ `status=completed` + –Ω–∞–ª–∏—á–∏–∏ –≤—Ä–µ–º–µ–Ω–∏ ‚Üí —Å–æ–∑–¥–∞—ë—Ç/–æ–±–Ω–æ–≤–ª—è–µ—Ç `VisitLog`
- ‚úÖ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `{updated, skipped, errors[:20]}`
- ‚úÖ –ü–æ–ª–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (–Ω–µ–≤–µ—Ä–Ω–∞—è –¥–∞—Ç–∞, –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫/–¢–¢/—Å—Ç–∞—Ç—É—Å)

---

### BE-W4-8: Endpoint `/optimize/variants` –∏ `/optimize/confirm`

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üî¥ HIGH
**–û—Ü–µ–Ω–∫–∞**: 4 —á–∞—Å–∞
**–°—Ç–∞—Ç—É—Å**: ‚úÖ Done

**Acceptance Criteria**:
- ‚úÖ `POST /optimize/variants` ‚Äî –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç 3 –≤–∞—Ä–∏–∞–Ω—Ç–∞ –±–µ–∑ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è; LLM –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç pros/cons
- ‚úÖ `POST /optimize/confirm` ‚Äî —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –≤ –ë–î (`routes` —Ç–∞–±–ª–∏—Ü–∞)
- ‚úÖ –°—Ö–µ–º—ã `OptimizeVariantsRequest`, `OptimizeVariantsResponse`, `ConfirmVariantRequest`
- ‚úÖ –ï—Å–ª–∏ LLM –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ ‚Äî –≤–∞—Ä–∏–∞–Ω—Ç—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –±–µ–∑ pros/cons (`llm_evaluation_success=false`)

---

## FRONTEND –¢–ê–°–ö–ò ‚Äî –í–ª–∞–¥–∏—Å–ª–∞–≤ –ù–∞—É–º–∫–∏–Ω

### FE-W4-1: `ScheduleView.vue` ‚Äî –º–µ—Å—è—á–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üî¥ HIGH
**–û—Ü–µ–Ω–∫–∞**: 10 —á–∞—Å–æ–≤
**–°—Ç–∞—Ç—É—Å**: ‚úÖ Done

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–ù–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ ‚Äî –≤–∏–∑—É–∞–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –≤–∏–∑–∏—Ç–æ–≤ —Ç–æ—Ä–≥–æ–≤—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–µ–π –Ω–∞ –º–µ—Å—è—Ü.

**Acceptance Criteria**:
- ‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –º–µ—Å—è—Ü–∞–º (`<` / `>` –∫–Ω–æ–ø–∫–∏)
- ‚úÖ –§–∏–ª—å—Ç—Ä –ø–æ –¢–ü (select –∏–∑ API `/reps`)
- ‚úÖ –ö–∞—Ä—Ç–æ—á–∫–∏ –º–∞—Ä—à—Ä—É—Ç–æ–≤ –¥–Ω—è: –∏–º—è –¢–ü, –∫–æ–ª-–≤–æ –¢–¢, —Å—Ç–∞—Ç—É—Å—ã
- ‚úÖ –ß–∏–ø –∫–∞–∂–¥–æ–≥–æ –≤–∏–∑–∏—Ç–∞: –∫–∞—Ç–µ–≥–æ—Ä–∏—è, –∏–º—è –¢–¢, —Å—Ç–∞—Ç—É—Å, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (`22–º`)
- ‚úÖ –ö–Ω–æ–ø–∫–∞ ¬´–ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ –¥–µ–Ω—å¬ª ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç Day modal
- ‚úÖ –ö–Ω–æ–ø–∫–∞ ¬´–§–æ—Ä—Å-–º–∞–∂–æ—Ä¬ª ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª

---

### FE-W4-2: `RepsView.vue` ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü° MEDIUM
**–û—Ü–µ–Ω–∫–∞**: 5 —á–∞—Å–æ–≤
**–°—Ç–∞—Ç—É—Å**: ‚úÖ Done

**Acceptance Criteria**:
- ‚úÖ –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¢–ü —Å —Ü–≤–µ—Ç–æ–≤—ã–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–º —Å—Ç–∞—Ç—É—Å–∞
- ‚úÖ –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –¢–ü (–∏–º—è, —Å—Ç–∞—Ç—É—Å)
- ‚úÖ Inline —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ (active/sick/vacation/unavailable)
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ (—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º)
- ‚úÖ –†–æ—É—Ç–∏–Ω–≥: `/reps` –¥–æ–±–∞–≤–ª–µ–Ω –≤ `router/index.ts`
- ‚úÖ –ü—É–Ω–∫—Ç ¬´–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏¬ª –≤ –±–æ–∫–æ–≤–æ–º –º–µ–Ω—é

---

### FE-W4-3: –ú–æ–¥–∞–ª –≤–∏–∑–∏—Ç–∞ ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ + –≤—Ä–µ–º—è

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üî¥ HIGH
**–û—Ü–µ–Ω–∫–∞**: 4 —á–∞—Å–∞
**–°—Ç–∞—Ç—É—Å**: ‚úÖ Done

**Acceptance Criteria**:
- ‚úÖ –ö–ª–∏–∫ –Ω–∞ —á–∏–ø –≤–∏–∑–∏—Ç–∞ ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª —Å –¥–µ—Ç–∞–ª—è–º–∏ –¢–¢
- ‚úÖ –í—ã–±–æ—Ä —Å—Ç–∞—Ç—É—Å–∞: –í—ã–ø–æ–ª–Ω–µ–Ω / –ü—Ä–æ–ø—É—â–µ–Ω / –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω
- ‚úÖ –ü–æ–ª—è `time_in`, `time_out` (—Ç–∏–ø `time`, `HH:MM`) –ø—Ä–∏ `status=completed`
- ‚úÖ PATCH –Ω–∞ `schedule/{id}/status` ‚Üí API –æ–±–Ω–æ–≤–ª—è–µ—Ç –ë–î
- ‚úÖ –ü–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è ‚Äî —á–∏–ø –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å + –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

---

### FE-W4-4: `visitDuration()` ‚Äî –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤–∏–∑–∏—Ç–∞

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü° MEDIUM
**–û—Ü–µ–Ω–∫–∞**: 1 —á–∞—Å
**–°—Ç–∞—Ç—É—Å**: ‚úÖ Done

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
```typescript
function visitDuration(visit: VisitScheduleItem): number | null {
  if (!visit.time_in || !visit.time_out) return null
  const [h1, m1] = visit.time_in.split(':').map(Number)
  const [h2, m2] = visit.time_out.split(':').map(Number)
  const diff = (h2 * 60 + m2) - (h1 * 60 + m1)
  return diff > 0 ? diff : null
}
```
- ‚úÖ –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ —á–∏–ø–µ –≤–∏–∑–∏—Ç–∞: `(22–º)`
- ‚úÖ –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ –º–æ–¥–∞–ª–µ: `‚è± –í—Ä–µ–º—è –Ω–∞ —Ç–æ—á–∫–µ: 22 –º–∏–Ω (10:00 ‚Äî 10:22)`

---

### FE-W4-5: Day modal ‚Äî –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –¥–Ω—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üî¥ HIGH
**–û—Ü–µ–Ω–∫–∞**: 8 —á–∞—Å–æ–≤
**–°—Ç–∞—Ç—É—Å**: ‚úÖ Done

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å —Å –ø–æ–ª–Ω—ã–º —Å–ø–∏—Å–∫–æ–º –¢–¢ –Ω–∞ –¥–µ–Ω—å + LLM-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –º–∞—Ä—à—Ä—É—Ç–∞.

**Acceptance Criteria**:
- ‚úÖ –ó–∞–≥–æ–ª–æ–≤–æ–∫: –∏–º—è –¢–ü, –¥–∞—Ç–∞, –∫–æ–ª-–≤–æ –¢–¢
- ‚úÖ –°–ø–∏—Å–æ–∫ –≤–∏–∑–∏—Ç–æ–≤: –∫–∞—Ç–µ–≥–æ—Ä–∏—è, –∏–º—è –¢–¢, `time_in`‚Äì`time_out` (–µ—Å–ª–∏ –µ—Å—Ç—å), —Å—Ç–∞—Ç—É—Å
- ‚úÖ –í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏: –∫–Ω–æ–ø–∫–∏ **Qwen 0.5B** / **Llama 1B**
- ‚úÖ –ö–Ω–æ–ø–∫–∞ ¬´–ü–æ–ª—É—á–∏—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç—ã (–ò–ò)¬ª ‚Üí `POST /optimize/variants`
- ‚úÖ Spinner + –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –≤–æ –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏
- ‚úÖ –¢—Ä–∏ –∫–∞—Ä—Ç–æ—á–∫–∏ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤: –Ω–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ, –º–µ—Ç—Ä–∏–∫–∏ (–∫–º/—á/‚ÇΩ/%), pros/cons
- ‚úÖ –í—ã–±–æ—Ä –≤–∞—Ä–∏–∞–Ω—Ç–∞ –∫–ª–∏–∫–æ–º (–≤—ã–¥–µ–ª–µ–Ω–∏–µ border-blue-500)
- ‚úÖ –ö–Ω–æ–ø–∫–∞ ¬´–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç¬ª ‚Üí `POST /optimize/confirm`
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫: `dayOptError` —Å —Ç–µ–∫—Å—Ç–æ–º –ø–æ–¥ –∫–Ω–æ–ø–∫–æ–π

---

### FE-W4-6: Excel –∫–Ω–æ–ø–∫–∏ –≤ `AnalyticsView.vue`

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü° MEDIUM
**–û—Ü–µ–Ω–∫–∞**: 3 —á–∞—Å–∞
**–°—Ç–∞—Ç—É—Å**: ‚úÖ Done

**Acceptance Criteria**:
- ‚úÖ –ö–Ω–æ–ø–∫–∞ ¬´–ó–∞–≥—Ä—É–∑–∏—Ç—å Excel¬ª (–∏–º–ø–æ—Ä—Ç) ‚Äî `<label>` —Å `<input type="file" hidden>`
- ‚úÖ –ö–Ω–æ–ø–∫–∞ ¬´–°–∫–∞—á–∞—Ç—å Excel¬ª (—ç–∫—Å–ø–æ—Ä—Ç) ‚Äî –≤—ã–∑–æ–≤ `downloadScheduleExcel()`
- ‚úÖ Spinner –≤–æ –≤—Ä–µ–º—è –∏–º–ø–æ—Ä—Ç–∞/—ç–∫—Å–ø–æ—Ä—Ç–∞
- ‚úÖ –ü–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–∞ ‚Äî –±–ª–æ–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞: `–û–±–Ω–æ–≤–ª–µ–Ω–æ N, –ø—Ä–æ–ø—É—â–µ–Ω–æ M`
- ‚úÖ –°–ø–∏—Å–æ–∫ –æ—à–∏–±–æ–∫ –∏–º–ø–æ—Ä—Ç–∞ (–¥–æ 20 —Å—Ç—Ä–æ–∫)
- ‚úÖ –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞ ‚Äî –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

---

### FE-W4-7: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ ‚Äî `compareModels` crash

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üî¥ HIGH
**–û—Ü–µ–Ω–∫–∞**: 1 —á–∞—Å
**–°—Ç–∞—Ç—É—Å**: ‚úÖ Done

**–ü—Ä–æ–±–ª–µ–º–∞**:
`compareModels()` –≤–æ–∑–≤—Ä–∞—â–∞–ª–∞ 404 (endpoint `/benchmark/compare` —É–¥–∞–ª—ë–Ω –≤ –Ω–µ–¥–µ–ª–µ 3).
–¢–∞–∫ –∫–∞–∫ –≤—ã–∑–æ–≤ –±—ã–ª –≤ `Promise.all` –±–µ–∑ `.catch()` ‚Äî –≤–µ—Å—å `loadAnalyticsData()` –ø–∞–¥–∞–ª.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**:
```typescript
// –ë–´–õ–û (–ø–∞–¥–∞–ª–æ –ø—Ä–∏ 404)
const [routesData, metricsData, comparisonData] = await Promise.all([
  fetchRoutes(0, 100),
  getMetrics(),
  compareModels(),
])

// –°–¢–ê–õ–û (graceful degradation)
const [routesData, metricsData, comparisonData, insightsData] = await Promise.all([
  fetchRoutes(0, 100),
  getMetrics(),
  compareModels().catch(() => null),
  getInsights().catch(() => null),
])
```

---

### FE-W4-8: TypeScript —Ç–∏–ø—ã ‚Äî —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ `types.ts`

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü° MEDIUM
**–û—Ü–µ–Ω–∫–∞**: 2 —á–∞—Å–∞
**–°—Ç–∞—Ç—É—Å**: ‚úÖ Done

**–ù–æ–≤—ã–µ/–æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ —Ç–∏–ø—ã**:
```typescript
interface SalesRep { id, name, status, ... }
interface VisitScheduleItem { ..., time_in?, time_out?, location_category? }
interface DailyRoute { rep_name, date, visits, total_tt, estimated_duration_hours }
interface MonthlyPlan { month, routes, total_visits, coverage_percent }
interface ForceMajeureEvent { id, type, rep_id, event_date, redistributed_to }
interface OptimizeVariantsResponse { variants, model_used, llm_evaluation_success }
interface ConfirmVariantRequest { name, locations, ..., original_location_ids }
interface Insights { month, total_tt, coverage_percent, category_stats, rep_activity }
```

---

## ML/ANALYTICS –¢–ê–°–ö–ò ‚Äî –î–º–∏—Ç—Ä–∏–π –ú—É–∫–∞—Å–µ–µ–≤

### ML-W4-1: `SchedulePlanner` ‚Äî –∞–ª–≥–æ—Ä–∏—Ç–º –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üî¥ HIGH
**–û—Ü–µ–Ω–∫–∞**: 8 —á–∞—Å–æ–≤
**–°—Ç–∞—Ç—É—Å**: ‚úÖ Done

**–§–∞–π–ª**: `backend/src/services/schedule_planner.py`

**–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã**:
```python
WORK_START_HOUR = 9          # 09:00
WORK_END_HOUR = 18           # 18:00
WORK_MINUTES = 540           # 9 —á–∞—Å–æ–≤
LUNCH_BREAK_MIN = 30
VISIT_DURATION_MIN = 15
AVG_TRAVEL_MIN_PER_TT = 20
SLOT_MIN = VISIT_DURATION_MIN + AVG_TRAVEL_MIN_PER_TT  # 35 –º–∏–Ω
MAX_TT_PER_DAY = floor((WORK_MINUTES - LUNCH_BREAK_MIN) / SLOT_MIN)  # 14
```

**–õ–æ–≥–∏–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π**:
```
A: 3 –≤–∏–∑–∏—Ç–∞/–º–µ—Å—è—Ü, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–∫—Ä–∏—Ç–∏—á–Ω–∞—è —á–∞—Å—Ç–æ—Ç–∞)
B: 2 –≤–∏–∑–∏—Ç–∞/–º–µ—Å—è—Ü, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2
C: 1 –≤–∏–∑–∏—Ç/–º–µ—Å—è—Ü, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3
D: 1 –≤–∏–∑–∏—Ç/–∫–≤–∞—Ä—Ç–∞–ª ‚Üí –≤ —Ç–µ–∫—É—â–µ–º –º–µ—Å—è—Ü–µ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω–µ—Ç –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è
```

**Acceptance Criteria**:
- ‚úÖ `generate_monthly_plan(month, rep_ids, location_ids)` ‚Üí —Å–ø–∏—Å–æ–∫ `VisitSchedule`
- ‚úÖ –†–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –º–µ–∂–¥—É –¢–ü
- ‚úÖ –ù–µ –ø—Ä–µ–≤—ã—à–∞–µ—Ç `MAX_TT_PER_DAY` –Ω–∞ –æ–¥–Ω–æ–≥–æ –¢–ü –≤ –¥–µ–Ω—å
- ‚úÖ –¢–æ–ª—å–∫–æ —Ä–∞–±–æ—á–∏–µ –¥–Ω–∏ (Mon-Fri), –±–µ–∑ –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–≤
- ‚úÖ `_next_working_day()` ‚Äî –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è

---

### ML-W4-2: `ForceMajeureService` ‚Äî –ø–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–∏–∑–∏—Ç–æ–≤

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü° MEDIUM
**–û—Ü–µ–Ω–∫–∞**: 5 —á–∞—Å–æ–≤
**–°—Ç–∞—Ç—É—Å**: ‚úÖ Done

**–§–∞–π–ª**: `backend/src/services/force_majeure_service.py`

**–õ–æ–≥–∏–∫–∞**:
1. –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤–∏–∑–∏—Ç—ã –ø–æ—Å—Ç—Ä–∞–¥–∞–≤—à–µ–≥–æ –¢–ü –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥
2. –ù–∞–π—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –¢–ü (—Å—Ç–∞—Ç—É—Å `active`, –Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –≤ –¥–µ–Ω—å –≤–∏–∑–∏—Ç–∞)
3. –ü–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–∏—Ç—å –≤–∏–∑–∏—Ç—ã (`rep_id` –≤ `VisitSchedule`) —Å –∑–∞–ø–∏—Å—å—é –≤ `redistributed_to`

**Acceptance Criteria**:
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –ø–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–∏ 1 –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ–º –¢–ü
- ‚úÖ –ù–µ—Ç –ø–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –µ—Å–ª–∏ –≤—Å–µ –¢–ü –∑–∞–Ω—è—Ç—ã (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ)
- ‚úÖ `redistributed_to` JSON: `{"schedule_id": "new_rep_id", ...}`

---

### ML-W4-3: –°–µ—Ä–≤–∏—Å –∏–Ω—Å–∞–π—Ç–æ–≤ ‚Äî —Ä–µ–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üî¥ HIGH
**–û—Ü–µ–Ω–∫–∞**: 6 —á–∞—Å–æ–≤
**–°—Ç–∞—Ç—É—Å**: ‚úÖ Done

**–§–∞–π–ª**: `backend/src/routes/insights.py` (–ø–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞)

**–û—Ç–≤–µ—Ç `GET /api/v1/insights?month=YYYY-MM`**:
```json
{
  "month": "2026-02",
  "total_tt": 250,
  "covered_tt": 198,
  "coverage_percent": 79.2,
  "category_stats": {
    "A": {"planned": 60, "completed": 57, "pct": 95.0},
    "B": {"planned": 80, "completed": 72, "pct": 90.0},
    "C": {"planned": 35, "completed": 28, "pct": 80.0},
    "D": {"planned": 23, "completed": 18, "pct": 78.3}
  },
  "rep_activity": [
    {"rep_name": "–ò–≤–∞–Ω–æ–≤", "outings": 20, "completed": 45, "total": 48}
  ]
}
```

**Acceptance Criteria**:
- ‚úÖ –ü–∞—Ä–∞–º–µ—Ç—Ä `?month=YYYY-MM` –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω
- ‚úÖ `coverage_percent` = –∫–æ–ª-–≤–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ø–æ—Å–µ—â—ë–Ω–Ω—ã—Ö –¢–¢ / –≤—Å–µ–≥–æ –¢–¢ √ó 100
- ‚úÖ `category_stats` –ø–æ –∫–∞–∂–¥–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ A/B/C/D
- ‚úÖ `rep_activity` ‚Äî –≤—ã—Ö–æ–¥—ã –Ω–∞ –º–∞—Ä—à—Ä—É—Ç (—É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –¥–Ω–∏) + % –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

---

### ML-W4-4: –î–∞—Ç–∞—Å–µ—Ç 250 –¢–¢ –ú–æ—Ä–¥–æ–≤–∏–∏

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü° MEDIUM
**–û—Ü–µ–Ω–∫–∞**: 3 —á–∞—Å–∞
**–°—Ç–∞—Ç—É—Å**: ‚úÖ Done

**–§–∞–π–ª**: `scripts/generate_mordovia_dataset.py`

**Acceptance Criteria**:
- ‚úÖ 250 —Ç–æ—Ä–≥–æ–≤—ã—Ö —Ç–æ—á–µ–∫ —Å —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- ‚úÖ 22 —Ä–∞–π–æ–Ω–∞ + –°–∞—Ä–∞–Ω—Å–∫ = 23 –∑–æ–Ω—ã
- ‚úÖ –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π: A=20%, B=30%, C=20%, D=30%
- ‚úÖ –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –ú–æ—Ä–¥–æ–≤–∏–∏ (lat ~54.2, lon ~44.1)
- ‚úÖ –í—ã—Ö–æ–¥: `data/locations_mordovia_250.json`

---

### ML-W4-5: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –º–∞—Ä—à—Ä—É—Ç–∞ (3 –≤–∞—Ä–∏–∞–Ω—Ç–∞)

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üî¥ HIGH
**–û—Ü–µ–Ω–∫–∞**: 5 —á–∞—Å–æ–≤
**–°—Ç–∞—Ç—É—Å**: ‚úÖ Done

**–§–∞–π–ª**: `backend/src/services/optimize.py` ‚Äî –º–µ—Ç–æ–¥ `generate_variants()`

**–ê–ª–≥–æ—Ä–∏—Ç–º**:
```
–í–∞—Ä–∏–∞–Ω—Ç 1: ¬´–ü–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º¬ª ‚Äî A ‚Üí B ‚Üí C ‚Üí D (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–π)
–í–∞—Ä–∏–∞–Ω—Ç 2: ¬´–ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ¬ª ‚Äî nearest-neighbor (–∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π)
–í–∞—Ä–∏–∞–Ω—Ç 3: ¬´–°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π¬ª ‚Äî –≥–∏–±—Ä–∏–¥–Ω—ã–π (—É—á—ë—Ç –∏ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è, –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞)
```

**Acceptance Criteria**:
- ‚úÖ LLM –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç –∫–∞–∂–¥—ã–π –≤–∞—Ä–∏–∞–Ω—Ç: pros/cons + `quality_score`
- ‚úÖ –ï—Å–ª–∏ LLM –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ ‚Äî `llm_evaluation_success=false`, –≤–∞—Ä–∏–∞–Ω—Ç—ã –±–µ–∑ –æ—Ü–µ–Ω–∫–∏
- ‚úÖ –°—Ö–µ–º–∞ `OptimizeVariantsResponse` —Å `variants[].pros`, `variants[].cons`

---

## QA/PM –¢–ê–°–ö–ò ‚Äî –°–µ—Ä–≥–µ–π –ú–∞–∫–ª–∞–∫–æ–≤

### QA-W4-1: CI ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ `AnalyticsView.spec.ts`

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üî¥ HIGH
**–û—Ü–µ–Ω–∫–∞**: 2 —á–∞—Å–∞
**–°—Ç–∞—Ç—É—Å**: ‚úÖ Done

**–ü—Ä–æ–±–ª–µ–º–∞**:
–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è `getInsights`, `downloadScheduleExcel`, `importScheduleExcel` –≤ `AnalyticsView.vue`, —Ç–µ—Å—Ç-—Ñ–∞–π–ª –Ω–µ –º–æ–∫–∏—Ä–æ–≤–∞–ª —ç—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ ‚Üí CI –ø–∞–¥–∞–ª.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤ `vi.mock`**:
```typescript
vi.mock('@/services/api', () => ({
  fetchRoutes: vi.fn(),
  getMetrics: vi.fn(),
  compareModels: vi.fn(),
  getInsights: vi.fn(),          // ‚Üê –¥–æ–±–∞–≤–ª–µ–Ω–æ
  downloadScheduleExcel: vi.fn(), // ‚Üê –¥–æ–±–∞–≤–ª–µ–Ω–æ
  importScheduleExcel: vi.fn(),   // ‚Üê –¥–æ–±–∞–≤–ª–µ–Ω–æ
}))
```

**–í `beforeEach`**:
```typescript
vi.mocked(api.getInsights).mockResolvedValue(null as any)
vi.mocked(api.downloadScheduleExcel).mockResolvedValue(undefined)
vi.mocked(api.importScheduleExcel).mockResolvedValue({ updated: 0, skipped: 0, errors: [] })
```

---

### QA-W4-2: CI ‚Äî –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ `OptimizeView.spec.ts`

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üî¥ HIGH
**–û—Ü–µ–Ω–∫–∞**: 1 —á–∞—Å
**–°—Ç–∞—Ç—É—Å**: ‚úÖ Done

**–ü—Ä–æ–±–ª–µ–º–∞**:
–¢–µ—Å—Ç –æ–∂–∏–¥–∞–ª `llama` –∫–∞–∫ –º–æ–¥–µ–ª—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –Ω–æ `OptimizeView.vue` —É—Å—Ç–∞–Ω–æ–≤–∏–ª `qwen` –¥–µ—Ñ–æ–ª—Ç–æ–º.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**:
```typescript
// –ë–´–õ–û
it('–≤—ã–±–∏—Ä–∞–µ—Ç Llama –º–æ–¥–µ–ª—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é', async () => {
  expect(wrapper.find('input[value="llama"]').element.checked).toBe(true)
})

// –°–¢–ê–õ–û
it('–≤—ã–±–∏—Ä–∞–µ—Ç Qwen –º–æ–¥–µ–ª—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é', async () => {
  expect(wrapper.find('input[value="qwen"]').element.checked).toBe(true)
})
```

---

### QA-W4-3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü° MEDIUM
**–û—Ü–µ–Ω–∫–∞**: 4 —á–∞—Å–∞
**–°—Ç–∞—Ç—É—Å**: ‚úÖ Done

**Acceptance Criteria**:
- ‚úÖ `docs/WEEK_TASKS/WEEK_4_PLAN.md` ‚Äî —ç—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç
- ‚úÖ `docs/PLANS/TEST_PLAN_WEEK4.md` ‚Äî —Ç–µ—Å—Ç-–ø–ª–∞–Ω
- ‚úÖ `README.md` ‚Äî –æ–±–Ω–æ–≤–ª—ë–Ω: —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è, API endpoints, —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞

---

## –ò—Ç–æ–≥–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ –∑–∞–¥–∞—á

| ID | –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å | –ó–∞–¥–∞—á–∞ | –ß–∞—Å—ã | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –°—Ç–∞—Ç—É—Å |
|----|-------------|--------|------|-----------|--------|
| BE-W4-1 | –†–æ–º–∞–Ω | –ú–æ–¥–µ–ª–∏ –ë–î (4 –Ω–æ–≤—ã–µ —Ç–∞–±–ª–∏—Ü—ã) | 5 | üî¥ HIGH | ‚úÖ |
| BE-W4-2 | –†–æ–º–∞–Ω | API `/reps` (CRUD) | 4 | üî¥ HIGH | ‚úÖ |
| BE-W4-3 | –†–æ–º–∞–Ω | SchedulePlanner + API `/schedule` | 10 | üî¥ HIGH | ‚úÖ |
| BE-W4-4 | –†–æ–º–∞–Ω | API `/force_majeure` + redistribution | 6 | üü° MED | ‚úÖ |
| BE-W4-5 | –†–æ–º–∞–Ω | API `/visits` + time tracking | 4 | üü° MED | ‚úÖ |
| BE-W4-6 | –†–æ–º–∞–Ω | Excel —ç–∫—Å–ø–æ—Ä—Ç (4 –ª–∏—Å—Ç–∞) | 6 | üî¥ HIGH | ‚úÖ |
| BE-W4-7 | –†–æ–º–∞–Ω | Excel –∏–º–ø–æ—Ä—Ç (status + time) | 5 | üü° MED | ‚úÖ |
| BE-W4-8 | –†–æ–º–∞–Ω | `/optimize/variants` + `/confirm` | 4 | üî¥ HIGH | ‚úÖ |
| FE-W4-1 | –í–ª–∞–¥–∏—Å–ª–∞–≤ | `ScheduleView.vue` ‚Äî –∫–∞–ª–µ–Ω–¥–∞—Ä—å | 10 | üî¥ HIGH | ‚úÖ |
| FE-W4-2 | –í–ª–∞–¥–∏—Å–ª–∞–≤ | `RepsView.vue` ‚Äî CRUD | 5 | üü° MED | ‚úÖ |
| FE-W4-3 | –í–ª–∞–¥–∏—Å–ª–∞–≤ | –ú–æ–¥–∞–ª –≤–∏–∑–∏—Ç–∞ (—Å—Ç–∞—Ç—É—Å + –≤—Ä–µ–º—è) | 4 | üî¥ HIGH | ‚úÖ |
| FE-W4-4 | –í–ª–∞–¥–∏—Å–ª–∞–≤ | `visitDuration()` + —á–∏–ø/–º–æ–¥–∞–ª | 1 | üü° MED | ‚úÖ |
| FE-W4-5 | –í–ª–∞–¥–∏—Å–ª–∞–≤ | Day modal (LLM –≤–∞—Ä–∏–∞–Ω—Ç—ã) | 8 | üî¥ HIGH | ‚úÖ |
| FE-W4-6 | –í–ª–∞–¥–∏—Å–ª–∞–≤ | Excel –∫–Ω–æ–ø–∫–∏ –≤ AnalyticsView | 3 | üü° MED | ‚úÖ |
| FE-W4-7 | –í–ª–∞–¥–∏—Å–ª–∞–≤ | Fix analytics crash | 1 | üî¥ HIGH | ‚úÖ |
| FE-W4-8 | –í–ª–∞–¥–∏—Å–ª–∞–≤ | TypeScript —Ç–∏–ø—ã | 2 | üü° MED | ‚úÖ |
| ML-W4-1 | –î–º–∏—Ç—Ä–∏–π | SchedulePlanner –∞–ª–≥–æ—Ä–∏—Ç–º | 8 | üî¥ HIGH | ‚úÖ |
| ML-W4-2 | –î–º–∏—Ç—Ä–∏–π | ForceMajeureService | 5 | üü° MED | ‚úÖ |
| ML-W4-3 | –î–º–∏—Ç—Ä–∏–π | Insights –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ (—Ä–µ–∞–ª—å–Ω–∞—è) | 6 | üî¥ HIGH | ‚úÖ |
| ML-W4-4 | –î–º–∏—Ç—Ä–∏–π | –î–∞—Ç–∞—Å–µ—Ç 250 –¢–¢ –ú–æ—Ä–¥–æ–≤–∏–∏ | 3 | üü° MED | ‚úÖ |
| ML-W4-5 | –î–º–∏—Ç—Ä–∏–π | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è 3 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –º–∞—Ä—à—Ä—É—Ç–∞ | 5 | üî¥ HIGH | ‚úÖ |
| QA-W4-1 | –°–µ—Ä–≥–µ–π | CI fix: AnalyticsView —Ç–µ—Å—Ç—ã | 2 | üî¥ HIGH | ‚úÖ |
| QA-W4-2 | –°–µ—Ä–≥–µ–π | CI fix: OptimizeView —Ç–µ—Å—Ç | 1 | üî¥ HIGH | ‚úÖ |
| QA-W4-3 | –°–µ—Ä–≥–µ–π | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ | 4 | üü° MED | ‚úÖ |
| | | **–ò–¢–û–ì–û** | **~112 —á** | | |

---

## –¢–µ—Å—Ç–æ–≤–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ –ø–æ –∏—Ç–æ–≥–∞–º –Ω–µ–¥–µ–ª–∏ 4

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Å—Ç–æ–≤ | –°—Ç–∞—Ç—É—Å CI |
|-----------|--------|-----------|
| Backend (pytest) | 61 | ‚úÖ Passing |
| Frontend (vitest) | 182 | ‚úÖ Passing |
| ML | 15 | ‚úÖ Passing |
| TypeScript type-check | ‚Äî | ‚úÖ 0 –æ—à–∏–±–æ–∫ |

---

## –ö–æ–Ω–∫—É—Ä—Å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è ‚Äî —Å—Ç–∞—Ç—É—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

| –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ –∏–∑ PDF | –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ –Ω–µ–¥–µ–ª–µ 4 |
|---|---|
| –†–∞—Å—á—ë—Ç –º–∞—Ä—à—Ä—É—Ç–æ–≤ —Å –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–µ–π –∫–∏–ª–æ–º–µ—Ç—Ä–∞–∂–∞ | ‚úÖ `/optimize` + `/optimize/variants` (3 –≤–∞—Ä–∏–∞–Ω—Ç–∞) |
| –£—á—ë—Ç —Ä–∞–±–æ—á–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ (9‚Äì18) | ‚úÖ SchedulePlanner: 540 –º–∏–Ω, –ü–Ω-–ü—Ç |
| –°–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è –¢–¢ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º A/B/C/D | ‚úÖ –ß–∞—Å—Ç–æ—Ç–∞ –≤–∏–∑–∏—Ç–æ–≤: A=3, B=2, C=1, D=1/–∫–≤–∞—Ä—Ç–∞–ª |
| 100% –æ—Ö–≤–∞—Ç –±–∞–∑—ã –¢–¢ | ‚úÖ Insights: `coverage_percent` |
| –§–æ—Ä—Å-–º–∞–∂–æ—Ä—ã + –ø–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ | ‚úÖ ForceMajeureService + API |
| **–û—Ç—á—ë—Ç –æ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è –Ω–∞ –∫–∞–∂–¥–æ–π –¢–¢** | ‚úÖ `time_in`/`time_out` –≤ VisitLog + UI |
| **–î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –∏ –¥–∞—Ç–µ –ø–æ—Å–µ—â–µ–Ω–∏—è** | ‚úÖ VisitLog + –ñ—É—Ä–Ω–∞–ª –≤–∏–∑–∏—Ç–æ–≤ (Excel –ª–∏—Å—Ç 2) |
| **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã—Ö–æ–¥–æ–≤ –¢–ü –Ω–∞ –º–∞—Ä—à—Ä—É—Ç** | ‚úÖ Insights + Excel –ª–∏—Å—Ç ¬´–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –¢–ü¬ª |
| **–í—ã–≥—Ä—É–∑–∫–∞ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏** | ‚úÖ Excel 4 –ª–∏—Å—Ç–∞ + Excel –∏–º–ø–æ—Ä—Ç |

---

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–ù–µ–¥–µ–ª—è 5+)

1. –§–∏–Ω–∞–ª—å–Ω–æ–µ –¥–µ–º–æ –¥–ª—è –∂—é—Ä–∏ –∫–æ–Ω–∫—É—Ä—Å–∞
2. –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (250 –¢–¢ √ó 5 –¢–ü = —Ä–µ–∞–ª—å–Ω—ã–π –¥–∞—Ç–∞—Å–µ—Ç)
3. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
