# ИСПОЛНИТЕЛЬНОЕ РЕЗЮМЕ

> Последнее обновление: 27 февраля 2026

---

## Видение проекта

T2 — AI-powered платформа управления посещениями торговых точек Мордовии. Система автоматически планирует расписание визитов с учётом категорий ТТ (A/B/C/D), оптимизирует маршруты через LLM, трекает время нахождения на каждой точке и выгружает полную аналитику в Excel.

---

## Ключевые факты

| Аспект | Деталь |
|--------|--------|
| Проект | T2 Розничная сеть |
| Длительность | 4 недели (6 января — 27 февраля 2026) |
| Команда | 3 разработчика + 1 TL/PM |
| Методология | Agile Lite (Kanban) |
| Статус | Production-Ready |
| Scope | Оптимизация маршрутов + Расписание визитов + Excel аналитика |

---

## Выполненные конкурсные требования

| Требование из PDF | Реализация | Неделя |
|---|---|---|
| Расчёт маршрутов с минимизацией километража | POST /optimize + Greedy fallback | 1-2 |
| Учёт рабочего времени (9-18) | SchedulePlanner: 540 мин, Пн-Пт | 4 |
| Сегментация ТТ A/B/C/D | Частота: A=3, B=2, C=1, D=1/квартал | 4 |
| Форс-мажоры + перераспределение | ForceMajeureService | 4 |
| Отчёт о времени нахождения на каждой ТТ | time_in/time_out в VisitLog + UI | 4 |
| Детализация по времени и дате посещения | VisitLog + Excel «Журнал визитов» | 4 |
| Количество выходов ТП на маршрут | Excel «Активность ТП» + Insights | 4 |
| Выгрузка аналитической информации | Excel 4 листа + обратный импорт | 4 |

---

## Обзор решения

### Что построено

Основной функционал:

- LLM-оптимизация маршрутов (Qwen → Llama → Greedy fallback)
- Генерация 3 вариантов маршрута с pros/cons от LLM
- Алгоритм планирования расписания (категории A/B/C/D, max 14 ТТ/день)
- Трекинг времени нахождения на каждой ТТ

Отчётность:

- Excel экспорт (4 листа: расписание, журнал, статистика, активность ТП)
- Excel импорт с обновлением статусов и создания VisitLog
- Аналитика охвата ТТ в реальном времени

Управление данными:

- CRUD торговых представителей (статус: active/sick/vacation/unavailable)
- Регистрация и перераспределение форс-мажоров
- 250 ТТ Мордовии (22 района + Саранск)

### Tech Stack

| Слой | Технологии |
|------|-----------|
| Backend | Python 3.11, FastAPI async, SQLAlchemy, Alembic, openpyxl |
| Frontend | Vue 3, TypeScript, TailwindCSS, Chart.js |
| LLM | Qwen2-0.5B + Llama-3.2-1B (GGUF via llama-cpp-python) |
| DevOps | Docker Compose, GitHub Actions, PostgreSQL, Nginx |

---

## Еженедельный breakdown

### Неделя 1: Инфраструктура + LLM

- Backend: Настройка FastAPI, QwenClient, LlamaClient, базовая БД
- Frontend: Vue 3 проект, layout, mock API
- ML: Бенчмарк моделей
- Результат: Базовая оптимизация маршрутов работает ✅

### Неделя 2: MVP

- Backend: /optimize с fallback, /locations, /metrics, /routes
- Frontend: Dashboard, Optimize форма, Analytics страница
- ML: Quality evaluator, сравнение моделей
- Результат: MVP feature complete, все страницы работают ✅

### Неделя 3: Production-Ready

- Переход с 3 LLM на 2 (удалена T-Pro: нестабильна, 16+ GB RAM)
- Финальная fallback-цепочка: Qwen → Llama → Greedy
- Docker + CI/CD настроен
- Результат: Production-Ready система ✅

### Неделя 4: Расписание + Excel + Аналитика

- Backend: SchedulePlanner, ForceMajeureService, Excel export/import
- Backend: time_in/time_out JOIN с VisitLog во всех GET-ответах
- Backend: /optimize/variants (3 варианта + LLM pros/cons), /optimize/confirm
- Frontend: ScheduleView с Day modal, RepsView, Excel кнопки, analytics fix
- CI: 182/182 frontend тестов, 61/61 backend тестов
- Результат: Все конкурсные требования выполнены ✅

---

## Метрики успеха

| Критерий | Результат |
|----------|-----------|
| LLM интеграция (Qwen + Llama) | ✅ |
| Fallback-цепочка Qwen → Llama → Greedy | ✅ |
| Расписание визитов (алгоритм A/B/C/D) | ✅ |
| Трекинг времени на ТТ | ✅ |
| Excel экспорт (4 листа) | ✅ |
| Excel импорт | ✅ |
| Форс-мажоры + перераспределение | ✅ |
| Coverage backend | ✅ 64% |
| Coverage frontend | ✅ ~70% |
| TypeScript ошибки | ✅ 0 |
| Docker deployment | ✅ |
| CI/CD | ✅ |

---

## Бизнес-влияние

| Преимущество | Оценка |
|-------------|--------|
| Снижение километража | 15-20% за счёт оптимизации маршрутов |
| Автоматизация планирования | С нуля до готового расписания за секунды |
| Прозрачность посещений | Точное время на каждой ТТ вместо «был/не был» |
| Контроль охвата | % покрытия базы ТТ за месяц в реальном времени |
| Реакция на форс-мажоры | Автоперераспределение визитов при болезни ТП |

---

## Ключевые риски и смягчение

| Риск | Влияние | Смягчение |
|------|---------|-----------|
| LLM недоступна | Высокое | Greedy алгоритм всегда работает |
| Большой датасет (250 ТТ) | Среднее | Batch-загрузка, лимиты пагинации |
| Excel с неизвестными именами | Низкое | errors[:20] с описанием каждой строки |
| Первый запрос к LLM (5-15 сек) | Низкое | Lazy loading, прогрев перед демо |

---

## Команда

| Роль | Имя | Ответственность |
|------|-----|----------------|
| Backend | Роман Кижаев | API, БД, LLM, Excel, алгоритмы |
| Frontend | Владислав Наумкин | Vue, TypeScript, UI/UX |
| ML/Analytics | Дмитрий Мукасеев | SchedulePlanner, ForceMajeure, Insights, датасет |
| TL/PM | Сергей Маклаков | Архитектура, CI, документация, координация |

---

## Контакты

- Вопросы по проекту: @maklakov_tkdrm в Telegram
- Репозиторий: https://github.com/JellyfishKa/T2_project
- Swagger UI: http://server:8000/docs

---

Дата начала: 6 января 2026

Дата завершения: 27 февраля 2026
